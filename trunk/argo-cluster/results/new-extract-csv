#!/bin/bash

problem=$1
echo $problem

grep -h "secs)" raw/*/output.${problem}_* |
  awk 'BEGIN { FS="[=,() ]"; } \
             { if( $1 == "optimal" || $1 == "greedy" || $1 == "random" ) {
                   printf "%s,%s,NA,NA,NA,NA,%s,%s,%s\n",problem,$1,$3,$4,$7;
               } else if( $1 == "ao3" || $1 == "ao4" ) {
                   printf "%s,%s,%s,%s,%s,%s,%s,%s,%s\n",problem,$1,$2,$4,$6,$8,$13,$14,$17;
               } else {
                   printf "%s,%s,%s,%s,%s,%s,%s,0,%s\n",problem,$1,$2,$4,$6,$8,$11,$14;
               }
             }' problem=$problem

